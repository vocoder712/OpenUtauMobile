<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               xmlns:vm="clr-namespace:OpenUtauMobile.ViewModels.Controls"
               xmlns:io="clr-namespace:System.IO;assembly=System.Runtime"
               xmlns:res="clr-namespace:OpenUtauMobile.Resources.Strings"
                xmlns:converters="clr-namespace:OpenUtauMobile.ViewModels.Converters"
               Color="Transparent"
               CanBeDismissedByTappingOutsideOfPopup="False"
               x:Class="OpenUtauMobile.Views.Controls.LoadingPopup">

    <!-- 主体 -->
    <Border StrokeThickness="0"
            Background="{AppThemeBinding Dark=#444444, Light=White}"
            Padding="0"
            WidthRequest="400"
            StrokeShape="RoundRectangle 10">
        <Grid RowDefinitions="40, Auto, Auto">
            <!-- 标题栏 -->
            <Border BackgroundColor="#66CCFF" Padding="10,2,10,2">
                <Label x:Name="LabelTitle" Text="{Static res:AppResources.Loading}" FontSize="20" HorizontalTextAlignment="Start" VerticalTextAlignment="Center"/>
            </Border>
            <Grid Grid.Row="1" ColumnDefinitions="Auto, *">
                <ActivityIndicator x:Name="ActivityIndicatorLoading" IsRunning="True" WidthRequest="50" HeightRequest="50" VerticalOptions="Center" HorizontalOptions="Center" Margin="0,20,0,20" Color="{DynamicResource Primary}"/>
                <Label x:Name="LabelMessage" FontSize="16" Margin="10,0,10,0" Grid.Column="1"/>
            </Grid>
            <!-- 进度条 -->
            <ProgressBar Grid.Row="2" x:Name="ProgressBarLoading" HeightRequest="4" Margin="10" ProgressColor="{DynamicResource Primary}"/>
        </Grid>
    </Border>
</toolkit:Popup>
